#include <stdio.h>
#include "main.h"
#include "../command/command.h"
#include "../../system/gamemanager/gamemanager.h"

char* banner[] = {
" _____       _    _  _                       _                   ",
"|     | ___ | |_ |_|| |_  ___    ___  ___  _| |                  ",
"| | | || . || . || ||  _|| .'|  | .'||   || . |                  ",
"|_|_|_||___||___||_||_|  |__,|  |__,||_|_||___|                  ",
" _    _           _                        _         ___         ",
"| |_ | |_  ___   | | ___  ___  ___  ___  _| |   ___ |  _|        ",
"|  _||   || -_|  | || -_|| . || -_||   || . |  | . ||  _|        ",
"|_|  |_|_||___|  |_||___||_  ||___||_|_||___|  |___||_|          ",
" _____  _       _        |___| _           _            _    _   ",
"|  _  || | ___ | |_  ___  ___ | |_  ___  _| | ___  ___ | |_ | |_ ",
"|     || ||_ -||  _||  _|| . || '_|| -_|| . || -_|| .'||  _||   |",
"|__|__||_||___||_|  |_|  |___||_,_||___||___||___||__,||_|  |_|_|",
/*
"█▀▄▀█ ████▄ ███   ▄█    ▄▄▄▄▀ ██       ██      ▄   ██▄                                 ",
"█ █ █ █   █ █  █  ██ ▀▀▀ █    █ █      █ █      █  █  █                                ",
"█ ▄ █ █   █ █ ▀ ▄ ██     █    █▄▄█     █▄▄█ ██   █ █   █                               ",
"█   █ ▀████ █  ▄▀ ▐█    █     █  █     █  █ █ █  █ █  █                                ",
"   █        ███    ▐   ▀         █        █ █  █ █ ███▀                                ",
"  ▀                             █        █  █   ██                                     ",
"   ▄▄▄▄▀ ▄  █ ▄███▄       █    ▀▄███▄   ▀ ▄▀  ▄███▄      ▄   ██▄       ████▄ ▄████     ",
"▀▀▀ █   █   █ █▀   ▀      █     █▀   ▀  ▄▀    █▀   ▀      █  █  █      █   █ █▀   ▀    ",
"    █   ██▀▀█ ██▄▄        █     ██▄▄    █ ▀▄  ██▄▄    ██   █ █   █     █   █ █▀▀       ",
"   █    █   █ █▄   ▄▀     ███▄  █▄   ▄▀ █   █ █▄   ▄▀ █ █  █ █  █      ▀████ █         ",
"  ▀        █  ▀███▀           ▀ ▀███▀    ███  ▀███▀   █  █ █ ███▀             █        ",
"          ▀                                           █   ██                   ▀       ",
"██   █      ▄▄▄▄▄      ▄▄▄▄▀ █▄▄▄▄ ████▄ █  █▀ ▄███▄   ██▄   ▄███▄   ██     ▄▄▄▄▀ ▄  █ ",
"█ █  █     █     ▀▄ ▀▀▀ █    █  ▄▀ █   █ █▄█   █▀   ▀  █  █  █▀   ▀  █ █ ▀▀▀ █   █   █ ",
"█▄▄█ █   ▄  ▀▀▀▀▄       █    █▀▀▌  █   █ █▀▄   ██▄▄    █   █ ██▄▄    █▄▄█    █   ██▀▀█ ",
"█  █ ███▄ ▀▄▄▄▄▀       █     █  █  ▀████ █  █  █▄   ▄▀ █  █  █▄   ▄▀ █  █   █    █   █ ",
"   █     ▀            ▀        █           █   ▀███▀   ███▀  ▀███▀      █  ▀        █  ",
"  █                           ▀           ▀                            █           ▀   ",
" ▀                                                                    ▀                "
*/
};

GameManager _gm;

int main() {
  CommandType cmd;
  int i;
  initGame();
  for (i = 0; i < 13; i++) {
    printf("%s%d%c%d%c%d%c%s%s\n",
      "\x1B[38;2;",
      (255-i*3), ';', (i*9+63), ';', 33, 'm',
      banner[i],
      "\x1B[0m"
    );
  }
  do {
    cmd = parseCommand();
    if (isCommandAvailable(cmd)) {
      runCommand(cmd);
    }
  } while(true);
  return 0;
}
